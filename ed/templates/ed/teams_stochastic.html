{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="{% static 'ed/styles_stochastic.css' %}">
</head>

<!-- BODY -->
<body> 

<h1>Email efficiency calculator</h1>

<!-- GLOBAL --------------------------------------------------------------- -->
<h2>Inputs - Global</h2>

<form method="post">
{% csrf_token %}

    <table class="spreadsheet-table" style="width:25%">

        <!-- Row 1 (Table Headers) -->
        <tr style="background-color: white;">
            <td class="border-right" style="text-align: right;">Size of Team</td>
            <td class="input-cell">
                <input type="number" name="TeamSize" value="{{ TeamSize }}">
            </td>
        </tr>

        <tr style="background-color: white;">
            <td class="border-right" style="text-align: right;">Period size</td>
            <td class="input-cell">
                <input type="number" name="PeriodSize" value="{{ PeriodSize }}">
            </td>
        </tr>

        <tr style="background-color: white;">
            <td class="border-right" style="text-align: right;">Average pay per hour</td>
            <td class="input-cell">
                <input type="number" name="Pay" value="{{ Pay }}">
            </td>
        </tr>

    </table>

<!-- --------------------------------------------------------------------- -->
<!-- TYPES --------------------------------------------------------------- -->
<!-- --------------------------------------------------------------------- -->
<h2>Inputs - Email Types</h2>

<div class="content-container">
<div class="table-container">

    <table class="spreadsheet-table" style="width:60%">

        <!-- Row 1 (Table Headers) -->
        <tr style="background-color: white;">
            <th class="border-right">Type</th>
            <th class="border-right" colspan="2">Emails received</th>
            <th colspan="2">Read time</th>
            <th colspan="2">Action time</th>
            <th  class="border-right" colspan="2">Response time</th>
            <th colspan="2">Relevance</th>
        </tr>

        <tr class="small-text" style="background-color: white;">
            <td class="border-right"></td>
            <td>Lower</td>
            <td class="border-right">Upper</td>
            <td>Lower</td>
            <td>Upper</td>
            <td>Lower</td>
            <td>Upper</td>
            <td>Lower</td>
            <td class="border-right">Upper</td>
            <td></td>
        </tr>
    
        <!-- Type 1 -->
        <tr style="background-color: #6e8ab7;">
            <td class="border-right">1</td>
            <td class="input-cell">
                <input type="number" name="N_lower1" value="{{ N_lower1 }}">
            </td>
            <td class="input-cell border-right">
                <input type="number" name="N_upper1" value="{{ N_upper1 }}">
            </td>
            <td class="input-cell">
                <input type="number" name="Rt_lower1" value="{{ Rt_lower1 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="Rt_upper1" value="{{ Rt_upper1 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="At_lower1" value="{{ At_lower1 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="At_upper1" value="{{ At_upper1 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="Wt_lower1" value="{{ Wt_lower1 }}" step="0.1">
            </td>
            <td class="input-cell border-right"">
                <input type="number" name="Wt_upper1" value="{{ Wt_upper1 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="Pr_rel1" value="{{ Pr_rel1 }}" step="0.1">
            </td>
        </tr>

        <!-- Type 2 -->
        <tr style="background-color: #E59538;">
            <td class="border-right">2</td>
            <td class="input-cell">
                <input type="number" name="N_lower2" value="{{ N_lower2 }}">
            </td>
            <td class="input-cell border-right">
                <input type="number" name="N_upper2" value="{{ N_upper2 }}">
            </td>
            <td class="input-cell">
                <input type="number" name="Rt_lower2" value="{{ Rt_lower2 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="Rt_upper2" value="{{ Rt_upper2 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="At_lower2" value="{{ At_lower2 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="At_upper2" value="{{ At_upper2 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="Wt_lower2" value="{{ Wt_lower2 }}" step="0.1">
            </td>
            <td class="input-cell border-right">
                <input type="number" name="Wt_upper2" value="{{ Wt_upper2 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="Pr_rel2" value="{{ Pr_rel2 }}" step="0.1">
            </td>
        </tr>
		
        <!-- Type 3 -->
        <tr style="background-color: #5B7553;">
            <td class="border-right">3</td>
            <td class="input-cell">
                <input type="number" name="N_lower3" value="{{ N_lower3 }}">
            </td>
            <td class="input-cell border-right">
                <input type="number" name="N_upper3" value="{{ N_upper3 }}">
            </td>
            <td class="input-cell">
                <input type="number" name="Rt_lower3" value="{{ Rt_lower3 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="Rt_upper3" value="{{ Rt_upper3 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="At_lower3" value="{{ At_lower3 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="At_upper3" value="{{ At_upper3 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="Wt_lower3" value="{{ Wt_lower3 }}" step="0.1">
            </td>
            <td class="input-cell border-right">
                <input type="number" name="Wt_upper3" value="{{ Wt_upper3 }}" step="0.1">
            </td>
            <td class="input-cell">
                <input type="number" name="Pr_rel3" value="{{ Pr_rel3 }}" step="0.1">
            </td>
        </tr>
      
    </table>
    <br>
    <button type="submit" class="submit-button">Submit</button>

</form>

<!-- --------------------------------------------------------------------- -->
<!-- Results-------------------------------------------------------------- -->
<!-- --------------------------------------------------------------------- -->
<h2>Results</h2>

<table class="result-table" style="width:60%">

    <tr>
        <th>Total number of emails</th>
        <th>Total read time (mins)</th>
    </tr>

    <tr>
        <td>{{ N_total_out }}</td>
        <td>{{ t_total_sum }}</td>
    </tr>

    <tr>
        <th></th>
        <th>Essential (mins)</th>
    </tr>

    <tr>
        <td></td>
        <td>{{ t_essential_sum }}</td>
    </tr>

    <tr>
        <th></th>
        <th>Nonessential (mins)</th>
    </tr>

    <tr>
        <td></td>
        <td>{{ t_nonessential_sum }}</td>
    </tr>

</table>

<!-- --------------------------------------------------------------------- -->
<!-- Wage ---------------------------------------------------------------- -->
<!-- --------------------------------------------------------------------- -->
<h2>Wage</h2>

<table class="result-table" style="width:60%">

    <tr>
        <th>Staff</th>
    </tr>

</table>

</div> <!-- table-container -->

<!-- --------------------------------------------------------------------- -->
<!-- Charts -------------------------------------------------------------- -->
<!-- --------------------------------------------------------------------- -->

    <div class="chart-container">
        <!-- Pie chart for reading time by type -->
        {% if pie_type %}
        {{ pie_type|safe }}
        {% else %}
        <p>No graph was provided.</p>
        {% endif %}
        <br>
        <!-- Pie chart for essential vs nonessential -->
        {% if pie_essential %}
        {{ pie_essential|safe }}
        {% else %}
        <p>No graph was provided.</p>
        {% endif %}
    </div>

</div> <!-- content-container -->

<!-- BODY -->
</body> 

</html>